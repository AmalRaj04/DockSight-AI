# DockSight AI - Quick Start Guide

## ✅ Sample Files Created!

I've created 4 sample docking files in the `sample_data/` folder:

### Files Available:

1. **compound_A.log** - Medium affinity (-8.5 kcal/mol, 5 poses)
2. **compound_B.log** - Good affinity (-9.5 kcal/mol, 4 poses)
3. **compound_C.pdbqt** - Medium affinity (-8.1 kcal/mol, 3 poses)
4. **compound_D.pdbqt** - **Best affinity** (-10.2 kcal/mol, 3 poses) ⭐

## How to Test the System

### Step 1: Open the Frontend

Open your browser and go to:

```
http://localhost:3000
```

### Step 2: Upload Files

1. Click the **"Click to select files"** area
2. Navigate to the `sample_data/` folder in your project
3. Select one or more files:
   - Try `compound_A.log` first (single file test)
   - Or select all 4 files (multi-ligand test)
4. Click **"Analyze Docking Results"**

### Step 3: View Results

You'll be redirected to the analysis page showing:

- ✅ Analysis status
- ✅ Ranked ligands table (sorted by binding affinity)
- ✅ Interaction summary (placeholder)
- ✅ Visualizations (placeholder)
- ✅ Scientific report (generated by Groq LLM)
- ✅ Solana attestation hash

## Expected Results

### When uploading all 4 files:

**Ranked Ligands (Best to Worst):**

1. compound_D: **-10.2 kcal/mol** ⭐ (Best)
2. compound_B: **-9.5 kcal/mol**
3. compound_A: **-8.5 kcal/mol**
4. compound_C: **-8.1 kcal/mol**

**Report Sections:**

- Introduction
- Methods
- Results (with ranking table)
- Discussion (generated by Groq LLM)
- Scientific Disclaimer

**Attestation:**

- Analysis ID: `analysis_YYYYMMDD_HHMMSS_4ligands`
- Input hash: SHA-256 of uploaded files
- Report hash: SHA-256 of generated report
- Transaction: `dry_run_...` (no real blockchain transaction)

## Alternative: Test via Command Line

### Test Single File:

```bash
curl -X POST http://localhost:8000/api/analyze \
  -F "files=@sample_data/compound_A.log" \
  | python3 -m json.tool
```

### Test Multiple Files:

```bash
curl -X POST http://localhost:8000/api/analyze \
  -F "files=@sample_data/compound_A.log" \
  -F "files=@sample_data/compound_B.log" \
  -F "files=@sample_data/compound_C.pdbqt" \
  -F "files=@sample_data/compound_D.pdbqt" \
  | python3 -m json.tool
```

### Test Best Compound Only:

```bash
curl -X POST http://localhost:8000/api/analyze \
  -F "files=@sample_data/compound_D.pdbqt" \
  | python3 -m json.tool
```

## What You'll See

### ✅ Working Features:

- File upload and validation
- Docking result parsing (.log and .pdbqt formats)
- Ligand ranking by binding affinity
- Best pose selection per ligand
- Scientific report generation (with Groq LLM)
- Solana attestation hashing (dry-run mode)
- Clean, minimal UI

### ⚠️ Placeholder Features:

- Interaction analysis (structure ready, needs implementation)
- Molecular visualizations (structure ready, needs PyMOL/RDKit)

## Troubleshooting

### "No files provided" error

- Make sure you selected files before clicking submit
- Check that files have .log or .pdbqt extensions

### Report is empty or null

- Check that GROQ_API_KEY is set in .env file
- Verify: `curl http://localhost:8000/api/health`
- Should show: `"groq_configured": true`

### Backend not responding

- Check backend is running: `curl http://localhost:8000/api/health`
- If not, restart: `python3 -m uvicorn backend.main:app --reload --port 8000`

### Frontend not loading

- Check frontend is running: `curl http://localhost:3000`
- If not, restart: `cd frontend && npm run dev`

## System Architecture

```
User uploads files
    ↓
Frontend (React) → POST /api/analyze
    ↓
Backend API (FastAPI)
    ↓
Agent Orchestrator
    ↓
1. Docking Parser (extract ΔG values)
2. Ligand Ranker (sort by affinity)
3. Visualization Generator (placeholder)
4. Report Writer (Groq LLM)
5. Solana Attestation (hashing)
    ↓
JSON Response → Frontend displays results
```

## Next Steps

After testing with sample data:

1. **Try your own docking files**

   - Upload your AutoDock Vina results
   - System will parse and analyze them

2. **Check the Swagger UI**

   - Open: http://localhost:8000/docs
   - Interactive API documentation

3. **Run component tests**

   - See TEST_GUIDE.md for detailed testing

4. **Review the generated report**
   - Check scientific accuracy
   - Verify disclaimer is present
   - Confirm no speculative claims

## File Locations

```
sample_data/
├── compound_A.log      ← Upload this
├── compound_B.log      ← Upload this
├── compound_C.pdbqt    ← Upload this
├── compound_D.pdbqt    ← Upload this (best)
└── README.md           ← Details about files
```

## Quick Commands

```bash
# Check system health
curl http://localhost:8000/api/health

# Test single file
curl -X POST http://localhost:8000/api/analyze \
  -F "files=@sample_data/compound_D.pdbqt"

# View API docs
open http://localhost:8000/docs

# View frontend
open http://localhost:3000
```

## Success Indicators

✅ Backend health check returns "healthy"
✅ Files upload without errors
✅ Ligands are ranked correctly (most negative ΔG first)
✅ Report contains all required sections
✅ Scientific disclaimer is present
✅ Attestation hashes are generated

---

**Ready to test!** Open http://localhost:3000 and upload the sample files.
